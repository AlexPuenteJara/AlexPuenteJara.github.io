---
title: "ICPC_2013"
output: html_document
date: "2023-11-28"
---

## [ICPC-2013-C - Counting ones](https://matcomgrader.com/problem/9306/counting-ones/)
<div class="collapsed code-title" type="button" data-toggle="collapse" data-target="#codeExample1" aria-expanded="false" aria-controls="collapseTwo">
<!-- title -->
<i class="fas fa-caret-right"></i> 
<p class="title"><b>CÃ“DIGO (por Alex Puente)</b></p>
</div>
<div id="codeExample1" class="collapse">

```c++
#include <bits/stdc++.h>
using namespace std;
using ll = long long;

ll mem[68][2][250];

ll dp(int pos, bool canUseAll, int sum, const vector<int> & digits_n){
	if(pos == digits_n.size()){
		return sum;
	}
	ll & ans = mem[pos][canUseAll][sum];
	if(ans != -1) return ans;
	ans = 0;
	int limit = canUseAll ? 1 : digits_n[pos];
	for(int d = 0; d <= limit; ++d){
		ans += dp(pos + 1, canUseAll || d < limit, sum + d, digits_n);
	}
	return ans;
}

ll f(ll n){
	if(n <= 0) return 0;
	vector<int> digits_n;
	while(n > 0){
		digits_n.push_back(n % 2);
		n /= 2;
	}
	reverse(digits_n.begin(), digits_n.end());
	memset(mem, -1, sizeof(mem));
	return dp(0, false, 0, digits_n);
}

int main(){
	ios_base::sync_with_stdio(0), cin.tie(0), cout.tie(0);
	ll a, b;
	while(cin >> a >> b){		
	
		ll ans = f(b) - f(a-1);
		cout << ans << "\n";
	}
	return 0;
}
```
</div>
